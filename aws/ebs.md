# EBSについて

## 概要
EBSはEC2インスタンスに使用できるブロックストレージサービス。<br />
逆にいうとEC2以外には使用することができない。<br />
EC2にESBをアタッチすることにより、CドライブやDドライブを使うことができる。<br />

```plaintext
⭐️ブロックストレージ
記憶領域をボリュームという単位で分けて、ボリュームをさらにブロックという単位に分けてデータを保存するストレージ。
HDDやUSBメモリーがこの形式である。
```

### S3との違い
S3はAWSが提供しているオブジェクトストレージサービス。<br />
EBSは保存できる容量に上限があるが、S3には上限はなく、やろうと思えばいくらでも保存できる。<br />
ただ、EBSはEC2にアタッチできるが、S3ではできない。EC2で使うならEBSか、EFSを使用する必要がある。<br />


### EFSとの違い
EFSはAWSが提供しているファイルストレージ。最大の特徴は複数のEC2インスタンスで共有ができる点である。<br />

EBSでは、特定のボリュームしかEC2インスタンスで共有できない。<br />
EFSはEC2インスタンス以外にもコンテナやオンプレミスのサーバーでも使うことができる。<br />

## EBSの特徴
### 高い可用性と耐久性
EBSは自動で同じAZ内に複製されるので、ユーザー側で冗長構成をする必要がない。<br />
EBSは99.999%の可用性を提供している。<br />

### 暗号化によるセキュリティ強化
EBSで自動で暗号化し、セキュリティを強化することができる。<br />
この暗号化は`AWS Key Management Service (KMS)`というサービスを使って行われ、暗号時に使用したキーをAWS側で管理してくれる。<br />

### EBSスナップショット
EBSスナップショットはEBSのバックアップを取るということ。利用目的には以下のようなものがある。<br />

- スナップショットを別リージョンにコピーしておいて、メインで使っているリージョンで障害が発生した時にリカバリできるようにする。
- スナップショットを公開してチーム内で共有できるようにする。

また、暗号化は保存時だけではなくEC2インスタンスとEBS間のデータ転送時も暗号化してくれる。<br />


## EBSの4つの種類
それぞれ以下の4つのタイプがある。

- 汎用SSD（gp3）
- プロビジョン度IOPS（io2）
- スループット最適化HDD（st1）
- コールドHDD（sc1）

### 汎用SSD（gp3）
汎用SSD（gp3）は3,000IOPSが保証されているEBS。（IOPSとは１秒間に読込みと書込みができる回数）<br />
そのため、仮想デスクトップやMySQLサーバー、開発環境を構築する時に最適なEBSである。容量は1GB~16TBまでの間で設定可能。<br />


### プロビジョン度IOPS（io2）
プロビジョンドIOPSは最大64,000IOPSものデータを読み書きすることができる高性能なEBSである。<br />
高性能な分、費用は他のEBSより高くなるが、高いIOPSを要求されるアプリやデータベースにも対応することができる。<br />
また、EBSの中では唯一マルチアタッチと言って複数のEC2インスタンスで同時に使える機能をもっている。<br />
容量は4GB~16TBまでの間で設定可能。<br />


### スループット最適化HDD（st1）
500IOPSと他のEBSより読み書きできる量は控えめではあるが、その分低コストで使えるのが特徴。<br />

IOPSは低いがスループット（処理能力）のコストパフォーマンスは一番高く、ログの処理やビッグデータ解析などの大量データを処理するのに向いている。<br />
容量は125GB~16TBの間で設定可能。<br />


### コールドHDD（sc1）

コールドHDDはEBSの中で一番低コストで使用できる。<br />
その代わり、250IOPSとIOPSがスループット最適化HDDよりさらに低くなっている。<br />
そのため、コールドHDDはアクセス頻度の低いログデータやバックアップデータの保存に適している。<br />
容量は125GB〜16TBまでの間で設定可能。<br />


## 参考文献
- [AWSのEBSストレージとは？3つの特徴やS3との違いを解説！](https://www.bold.ne.jp/engineer-club/aws-ebs)

